{% extends "base.html" %}
{% load static %}
<link href="{% static 'css/custom_style.css' %}" rel="stylesheet" />
{% block content %}

		<!-- BEGIN #content -->
		<div id="content" class="app-content p-0">
			<!-- BEGIN profile -->
			{% comment %} <div class="profile">
				<div class="profile-header">
					<!-- BEGIN profile-header-cover -->
					<div class="profile-header-cover"></div>
					<!-- END profile-header-cover -->
					<!-- BEGIN profile-header-content -->
					<div class="profile-header-content">
						<!-- BEGIN profile-header-img -->
						<div class="profile-header-img">
							<img src="../assets/img/user/user-13.jpg" alt="" />
						</div>
						<!-- END profile-header-img -->
						<!-- BEGIN profile-header-info -->
						<div class="profile-header-info">
							<h4 class="mt-0 mb-1">{{profile_data.nombres}} {{profile_data.apellidos}}</h4>
							<p class="mb-2">Administrador
							</p>

						<!-- END profile-header-info -->
					</div>
					<!-- END profile-header-content -->
					<!-- BEGIN profile-header-tab -->
					<ul class="profile-header-tab nav nav-tabs">
						<li class="nav-item"><a href="#profile-about" class="nav-link active" data-bs-toggle="tab"></a></li>
					</ul>
					<!-- END profile-header-tab -->
				</div>
			</div> {% endcomment %}
			<!-- END profile -->
			<!-- BEGIN profile-content -->
			<div class="profile-content">
				<!-- BEGIN tab-content -->
				<div class="tab-content p-0">
					<!-- BEGIN #profile-post tab -->
				
					<!-- END #profile-post tab -->
					<!-- BEGIN #profile-about tab -->
					<div class="tab-pane fade show active" id="profile-about">
						<!-- BEGIN table -->
						<div class="table-responsive form-inline">
							<form method="post" action="{% url 'admprofile_update' user_id=user.id %}" id="admprofileform">
								{% csrf_token %}
										{% comment %} {% if messages %}
											<ul class="messages">
												{% for message in messages %}
													<li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
												{% endfor %}
											</ul>
										{% endif %} {% endcomment %}
								

											{% comment %} <div class="row mb-15px">
												<label class="form-label col-form-label col-md-3">Nombres</label>
												<div class="col-sm-9">
													<input class="form-control" type="text" name="nombres" value="{{ profile_data.nombres }}" {% if not editable %}readonly{% endif %}>
												</div>
											</div>
										
											<div class="row mb-15px">
												<label class="form-label col-form-label col-md-3">apellidos</label>
												<div class="col-sm-9">
													<input class="form-control" type="text" name="apellidos" value=" {{profile_data.apellidos}}" {% if not editable %}readonly{% endif %}>
												</div>
											</div>
										
											<div class="row mb-15px">
												<label class="form-label col-form-label col-md-3">Dirección</label>
												<div class="col-sm-9">
													<input class="form-control" type="text" name="calle" value="{{profile_data.calle}}" {% if not editable %}readonly{% endif %}>
												</div>
											</div>
										
											<div class="row mb-15px">
												<label class="form-label col-form-label col-md-3">telefono</label>
												<div class="col-sm-9">
													<input class="form-control" type="text" name="celular" value="{{ profile_data.contact_phone }}" {% if not editable %}readonly{% endif %}>
												</div>
											</div>
										
											<div class="row mb-15px">
												<label class="form-label col-form-label col-md-3">Correo Electrónico de Contacto</label>
												<div class="col-sm-9">
													<input class="form-control" type="text" name="email" value=" {{profile_data.email}}" {% if not editable %}readonly{% endif %}>
												</div>
											</div>
										
											<div class="row mb-15px">
												<label class="form-label col-form-label col-md-3">Fecha de nacimiento</label>
												<div class="col-sm-9"  data-provide="datepicker">
													{% if profile_data.birth_date %}
														{{ profile_data.birth_date|date:"Y-m-d" }}
													{% endif %}
													<input class="form-control" type="date" name="birth_date" value="{{ profile_data.birth_date }}" {% if not editable %}readonly{% endif %}>
												</div>
											</div> {% endcomment %}
											<div class="row justify-content-center">
												<div class="col-12 col-lg-10 col-xl-8 mx-auto">
													<div class="my-4">
														<form>
															<div class="row mt-5 align-items-center">
																<div class="col-md-3 text-center mb-5">
																	<div class="avatar avatar-xl" style="width: 110px">
																		<img src="https://bootdey.com/img/Content/avatar/avatar6.png" alt="..." class="avatar-img rounded-circle" />
																	</div>
																</div>
																<div class="col">
																	<div class="row align-items-center">
																		<div class="col-md-7">
																			<h4 class="mb-1">{{profile_data.nombres}}, {{profile_data.apellidos}}</h4>
																			<p class="small mb-3"><span class="badge badge-dark">New York, USA</span></p>
																		</div>
																	</div>
																	<div class="row mb-4">
																		<div class="col-md-7">
																			<p class="text-muted">
																				Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris blandit nisl ullamcorper, rutrum metus in, congue lectus. In hac habitasse platea dictumst. Cras urna quam, malesuada vitae risus at,
																				pretium blandit sapien.
																			</p>
																		</div>
																		<div class="col">
																			<p class="small mb-0 text-muted">Nec Urna Suscipit Ltd</p>
																			<p class="small mb-0 text-muted">P.O. Box 464, 5975 Eget Avenue</p>
																			<p class="small mb-0 text-muted">(537) 315-1481</p>
																		</div>
																	</div>
																</div>
															</div>
															<hr class="my-4" />
															<div class="form-row">
																<div class="row">
																	<div class="form-group col-md-4">
																		<label for="firstname">Nombres</label>
																		<input class="form-control" name="nombres" value="{{ profile_data.nombres }}" {% if not editable %}readonly{% endif %} />
																	</div>
																	<div class="form-group col-md-4">
																		<label for="lastname">Apellidos</label>
																		<input class="form-control" type="text" name="apellidos" value=" {{profile_data.apellidos}}" {% if not editable %}readonly{% endif %} />
																	</div>
																	<div class="form-group col-md-3">
																		<label for="rut">Rut</label>
																		<input class="form-control" type="text" name="rut" value=" {{profile_data.rut}}" {% if not editable %}readonly{% endif %} />
																	</div>
																</div>	
															</div>
															<div class="row">
																<div class="form-group col-md-4">
																	<label for="inputEmail4">Email</label>
																	<input type="email" class="form-control" name="email" value=" {{profile_data.email}}" {% if not editable %}readonly{% endif %} />
																</div>
																<div class="form-group col-md-3">
																	<label for="celular">Telefono</label>
																	<input type="text" class="form-control" name="celular" value=" {{profile_data.celular}}" {% if not editable %}readonly{% endif %} />
																</div>
															</div>	
															<div class="form-group">
																<label for="inputAddress5">Calle</label>
																<input type="text" class="form-control" id="inputAddress5" placeholder="P.O. Box 464, 5975 Eget Avenue" />
															</div>
															<div class="form-row">
																<div class="form-group col-md-6">
																	<label for="inputCompany5">Company</label>
																	<input type="text" class="form-control" id="inputCompany5" placeholder="Nec Urna Suscipit Ltd" />
																</div>
																<div class="form-group col-md-4">
																	<label for="inputState5">State</label>
																	<select id="inputState5" class="form-control">
																		<option selected="">Choose...</option>
																		<option>...</option>
																	</select>
																</div>
																<div class="form-group col-md-2">
																	<label for="inputZip5">Zip</label>
																	<input type="text" class="form-control" id="inputZip5" placeholder="98232" />
																</div>
															</div>
															<hr class="my-4" />
															<div class="row mb-4">
																<div class="col-md-6">
																	<div class="form-group">
																		<label for="inputPassword4">Old Password</label>
																		<input type="password" class="form-control" id="inputPassword5" />
																	</div>
																	<div class="form-group">
																		<label for="inputPassword5">New Password</label>
																		<input type="password" class="form-control" id="inputPassword5" />
																	</div>
																	<div class="form-group">
																		<label for="inputPassword6">Confirm Password</label>
																		<input type="password" class="form-control" id="inputPassword6" />
																	</div>
																</div>
																<div class="col-md-6">
																	<p class="mb-2">Password requirements</p>
																	<p class="small text-muted mb-2">To create a new password, you have to meet all of the following requirements:</p>
																	<ul class="small text-muted pl-4 mb-0">
																		<li>Minimum 8 character</li>
																		<li>At least one special character</li>
																		<li>At least one number</li>
																		<li>Can’t be the same as a previous password</li>
																	</ul>
																</div>
															</div>
															<button type="submit" class="btn btn-primary">Save Change</button>
														</form>
													</div>
												</div>
											</div>
																			
										<!-- Botones de acción -->
										{% if editable %}
										<!-- Botones para guardar cambios y cancelar la edición -->
										<button type="submit" class="btn btn-success">Guardar Cambios</button>
										<a href="{% url 'user_profile_config' %}" class="btn btn-danger">Cancelar</a>
									{% else %}
										<!-- Botón para editar -->
										<a href="{% url 'admconfig_edit' user_id=profile_data.id %}" class="btn btn-primary">Editar</a>
									{% endif %}
								
							</form>
						</div>
						<!-- END table -->
					</div>
					<!-- END #profile-about tab -->

					<!-- END #profile-friends tab -->
				</div>
				<!-- END tab-content -->
			</div>
			<!-- END profile-content -->
		</div>

		<!-- Código JavaScript para manejar notificaciones mediante un modal básico -->

<script>
    // Espera a que el DOM esté completamente cargado antes de ejecutar el código
    document.addEventListener('DOMContentLoaded', function () {
        // Comprueba si hay mensajes para mostrar
        {% if messages %}
            // Muestra un modal de éxito básico
            // Asegúrate de tener estilos y scripts de modal adecuados en tu proyecto
            alert("{{ messages }}");
        {% endif %}

        // Obtén el formulario y el mensaje de éxito por su identificador
        var form = document.getElementById('admprofileform');
        var successMessage = document.querySelector('.toast-success');

        // Verifica si el formulario y el mensaje de éxito existen
        if (form && successMessage) {
            // Agrega un evento de escucha al formulario para ocultar el mensaje de éxito después de enviar el formulario
            form.addEventListener('submit', function () {
                // Oculta el mensaje de éxito
                successMessage.style.display = 'none';
                // Aquí puedes agregar lógica para desactivar botones si es necesario
            });
        }
    });
    </script>
    </div>

		<!-- END #content -->
		<link href="{% static 'css/custom_style.css' %}" rel="stylesheet" />
{% endblock content %}